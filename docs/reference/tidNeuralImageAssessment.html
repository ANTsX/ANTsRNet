<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Perform MOS-based assessment of an image. — tidNeuralImageAssessment • ANTsRNet</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Perform MOS-based assessment of an image. — tidNeuralImageAssessment" />
<meta property="og:description" content="Use a ResNet architecture to estimate image quality in 2D or 3D using subjective
QC image databases described in" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ANTsRNet</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/ANTsX/ANTsRNet/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Perform MOS-based assessment of an image.</h1>
    <small class="dont-index">Source: <a href='https://github.com/ANTsX/ANTsRNet/blob/master/R/qualityAssessment.R'><code>R/qualityAssessment.R</code></a></small>
    <div class="hidden name"><code>tidNeuralImageAssessment.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Use a ResNet architecture to estimate image quality in 2D or 3D using subjective
QC image databases described in</p>
    </div>

    <pre class="usage"><span class='fu'>tidNeuralImageAssessment</span>(
  <span class='no'>image</span>,
  <span class='no'>mask</span>,
  <span class='kw'>patchSize</span> <span class='kw'>=</span> <span class='fl'>101L</span>,
  <span class='no'>strideLength</span>,
  <span class='kw'>paddingSize</span> <span class='kw'>=</span> <span class='fl'>0L</span>,
  <span class='kw'>dimensionsToPredict</span> <span class='kw'>=</span> <span class='fl'>1L</span>,
  <span class='kw'>antsxnetCacheDirectory</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>whichModel</span> <span class='kw'>=</span> <span class='st'>"tidsQualityAssessment"</span>,
  <span class='no'>imageScaling</span>,
  <span class='kw'>doPatchScaling</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>image</th>
      <td><p>the input image.  Either 2D or 3D.</p></td>
    </tr>
    <tr>
      <th>mask</th>
      <td><p>optional mask for designating calculation ROI.</p></td>
    </tr>
    <tr>
      <th>patchSize</th>
      <td><p>integer (prime) number for patch size; 101 is good. otherwise,
choose <code>"global"</code> for a single global estimate of quality.</p></td>
    </tr>
    <tr>
      <th>strideLength</th>
      <td><p>optional value to speed up computation (typically less than
patch size).  Integer or vector of image dimension length.</p></td>
    </tr>
    <tr>
      <th>paddingSize</th>
      <td><p>positive or negative integer (or vector of image dimension
length) for (de)padding to remove edge effects.</p></td>
    </tr>
    <tr>
      <th>dimensionsToPredict</th>
      <td><p>if image dimension is 3, this parameter specifies
which dimension(s) should be used for prediction.  If more than one dimension
is specified, the results are averaged.</p></td>
    </tr>
    <tr>
      <th>antsxnetCacheDirectory</th>
      <td><p>destination directory for storing the downloaded
template and model weights.  Since these can be reused, if
<code><a href='https://rdrr.io/r/base/NULL.html'>is.null(antsxnetCacheDirectory)</a></code>, these data will be downloaded to
~/.keras/ANTsXNet/.</p></td>
    </tr>
    <tr>
      <th>whichModel</th>
      <td><p>model type e.g. string tidsQualityAssessment, koniqMS, koniqMS2 or koniqMS3 where
the former predicts mean opinion score (MOS) and MOS standard deviation and
the latter koniq models predict mean opinion score (MOS) and sharpness.  One
may also directly pass a tensorflow model here. In this case, we assume that
the input image is scaled by the <code>imageScaling</code> parameter.</p></td>
    </tr>
    <tr>
      <th>imageScaling</th>
      <td><p>a two-vector where the first value is the multiplier and
the second value the subtractor so each image will be scaled as
<code>img = iMath(img,"Normalize")*m  - s </code>.</p></td>
    </tr>
    <tr>
      <th>doPatchScaling</th>
      <td><p>boolean controlling whether each patch is scaled or</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>print progress.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>list of QC results predicting both both human rater's mean and standard
deviation of the MOS ("mean opinion scores") or sharpness depending on the
selected network.  Both aggregate and spatial scores are returned, the latter
in the form of an image.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><a href='https://www.sciencedirect.com/science/article/pii/S0923596514001490'>https://www.sciencedirect.com/science/article/pii/S0923596514001490</a></p>
<p>or</p>
<p><a href='https://doi.org/10.1109/TIP.2020.2967829'>https://doi.org/10.1109/TIP.2020.2967829</a></p>
<p>where the image assessment is either "global", i.e., a single number or an image
based on the specified patch size.  In the 3-D case, neighboring slices are used
for each estimate.  Note that parameters should be kept as consistent as possible
in order to enable comparison.  Patch size should be roughly 1/12th to 1/4th of
image size to enable locality. A global estimate can be gained by setting
<code>patchSize = "global"</code>.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> (<span class='fl'>FALSE</span>) {
<span class='no'>image</span> <span class='kw'>&lt;-</span> <span class='fu'>antsImageRead</span>( <span class='fu'>getANTsRData</span>( <span class='st'>"r16"</span> ) )
<span class='no'>mask</span> <span class='kw'>&lt;-</span> <span class='fu'>getMask</span>( <span class='no'>image</span> )
<span class='no'>tid</span> <span class='kw'>&lt;-</span> <span class='fu'>tidNeuralImageAssessment</span>( <span class='no'>image</span>, <span class='kw'>mask</span> <span class='kw'>=</span> <span class='no'>mask</span>, <span class='kw'>patchSize</span> <span class='kw'>=</span> <span class='fl'>101L</span>,
          <span class='kw'>strideLength</span> <span class='kw'>=</span> <span class='fl'>7L</span>, <span class='kw'>paddingSize</span> <span class='kw'>=</span> <span class='fl'>0L</span> )
<span class='fu'><a href='https://rdrr.io/r/base/plot.html'>plot</a></span>( <span class='no'>image</span>, <span class='no'>tid</span>$<span class='no'>MOS</span>, <span class='kw'>alpha</span> <span class='kw'>=</span> <span class='fl'>0.5</span>)
<span class='fu'><a href='https://rdrr.io/r/base/cat.html'>cat</a></span>( <span class='st'>"mean MOS = "</span>, <span class='no'>tid</span>$<span class='no'>MOS.mean</span>, <span class='st'>"\n"</span> )
<span class='fu'><a href='https://rdrr.io/r/base/cat.html'>cat</a></span>( <span class='st'>"sd MOS = "</span>, <span class='no'>tid</span>$<span class='no'>MOS.standardDeviationMean</span>, <span class='st'>"\n"</span> )
}</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Nicholas J Tustison, Brian B Avants.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


